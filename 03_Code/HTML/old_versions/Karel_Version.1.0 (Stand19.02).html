<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Karel the Robot</title>
<script type="text/javascript">
    function init() {
    	var canvas = document.getElementById("ausgabe");
    	
		// prüft, ob Browser mit Canvas umgehen kann
		if (canvas.getContext) {
	       	var c = canvas.getContext("2d");
			var sss = 20;
			for(i=2; i<15; i++) {
				for(j=0; j<14; j++) {
					
					// Spaltennummerierung
					/*
					// Ursprung links oben
					if (i<2 && j>0) {
					*/
					
					// Ursprung links unten
					if (i>13 && j>0) {
						c.fillStyle = "#000";
						c.font = "Arial";
						c.textBaseline = 'bottom';
						c.fillText (j,window.innerWidth/3 + j/15*2/3*window.innerWidth,i/15*window.innerHeight+1/30*window.innerHeight);
					} 
					// Zeilennummerierung
					 else if (j<1 && i<14) {
						
						c.fillStyle = "#000";
						c.font = "Arial";
						c.textBaseline = 'bottom';
						c.fillText (14-i,window.innerWidth/3 - 1/30*2/3*window.innerWidth,i/15*window.innerHeight);
						
					}
						
									
					else {
						c.beginPath();
						// interative Bewegung in x-Richtung um 1/15 von den restlichen 2/3 des Bildschiirm
						// waagrechte Striche der Koordinatenkreuze
						c.moveTo(window.innerWidth/3 + j/15*2/3*window.innerWidth, i/15*window.innerHeight);
						c.lineTo(window.innerWidth/3 + j/15*2/3*window.innerWidth + 5, i/15*window.innerHeight);
						//senkrechte Striche der Koordinatenkreuze
						c.moveTo(window.innerWidth/3 + j/15*2/3*window.innerWidth +2, i/15*window.innerHeight -2);
						c.lineTo(window.innerWidth/3 + j/15*2/3*window.innerWidth +2, i/15*window.innerHeight +2);
						c.stroke();
						}
				}
			}
			// Rahmen als Spielfeldbegrenzung zeichnen
			
			c.beginPath();
			c.moveTo(window.innerWidth/3, 1/15*window.innerHeight);
			c.lineTo(window.innerWidth/3, 14/15*window.innerHeight);
			c.lineTo(window.innerWidth/3 + 14/15*2/3*window.innerWidth, 14/15*window.innerHeight);
			c.lineTo(window.innerWidth/3 + 14/15*2/3*window.innerWidth, 1/15*window.innerHeight);
			c.lineTo(window.innerWidth/3, 1/15*window.innerHeight);
			c.stroke();
			
			
					c.fillStyle = "#00f";
					//c.font = 'bold italic 30px Arial';
					c.textBaseline = 'bottom';
					c.fillText('HTML5 is mächtig!', 100, 100);
					
					// falls Browser kein Canvas versteht, erscheint folgende Fehlermeldung
					} else alert("Canvas required!")

				}
				
				
				
				
			function test(posX,posY) {
				
				var canvas = document.getElementById("ausgabe");
		      	var c = canvas.getContext("2d");

			// Array für Beeperstandpunkte
			var beeper = new Array();
			for(i=1; i<13; i++) {
				for(j=1; j<12; j++) {
					beeper[j,i]= false;
				}
			}
		
			// Array für Karels Position		
			var karel = new Array();
			for(i=1; i<13; i++) {
				for(j=1; j<12; j++) {
					karel[j,i]= false;
				}
			}
			
			// Array für Außenwand		
			var outerWall = new Array();
			for(i=1; i<13; i++) {
				for(j=1; j<12; j++) {
					outerWall[j,i]= false;
				}
			}
			
			
			
			
			var img = new Image();
			karel[posX,posY]= 1;
						
		if(posX<13) {
		for(i=1; i<14; i++) {
			for(j=1; j<13; j++) {
			if (karel[j,i]!==false) {
				c.clearRect(0,0,canvas.width,canvas.height);
				init();
				img.src ="karelEast.png";
				img.onload = function(){
				c.drawImage(img,window.innerWidth/3 + posX/15*2/3*window.innerWidth-1/45*2/3*window.innerWidth, (14-posY)/15*window.innerHeight-1/45*window.innerHeight, 1/15*window.innerHeight, 1/15*window.innerHeight);
				
			
				//karel[posX,posY]= false;
			}
				
				}	
			}
			}
			
		}
			
		} 
		
	
		
</script>
</head>

<body>
<div>
<canvas id="ausgabe" width="1270" height="658"></canvas>
</div>

<script type="text/javascript" charset="utf-8">
	init();
	
//	test(1,1);
	
</script>
<input type="button" name="Go" value="Go!" id="Go" onclick="setInterval(function(){test(2,1)},1000)">
<input type="button" name="Go" value="Go2!" id="Go" onclick="test(3,1)">

</body>
</html>
